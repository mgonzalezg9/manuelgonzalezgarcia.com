---
import { Image } from 'astro:assets';
import { getLangFromUrl, useTranslations } from '../../utils/i18n';
import CarsbarterLogo from '../../assets/carsbarter_logo.png';
import InbentusLogo from '../../assets/inbentus_logo.jpg';
import KaironLabsLogo from '../../assets/kairon_labs_logo.jpeg';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const companies = [
  {
    name: t('experience.company1.name'),
    role: t('experience.company1.role'),
    period: t('experience.company1.period'),
    description: t('experience.company1.description'),
    current: true,
    logo: KaironLabsLogo,
  },
  {
    name: t('experience.company2.name'),
    role: t('experience.company2.role'),
    period: t('experience.company2.period'),
    description: t('experience.company2.description'),
    current: false,
    logo: InbentusLogo,
  },
  {
    name: t('experience.company3.name'),
    role: t('experience.company3.role'),
    period: t('experience.company3.period'),
    description: t('experience.company3.description'),
    current: false,
    logo: CarsbarterLogo,
  },
];
---

<section id="experience" class="py-16 px-4 sm:px-6 lg:px-8">
  <div class="max-w-6xl mx-auto">
    <h2 class="text-3xl font-bold text-gray-900 mb-8">{t('experience.title')}</h2>
    <div class="space-y-8">
      {companies.map((company) => (
        <div class="bg-white rounded-lg shadow-md p-6 transition-transform duration-500 hover:scale-105">
          <div class="flex flex-wrap items-start justify-between gap-4 mb-4">
            <div class="flex items-center gap-4">
              <Image 
                class="bg-gray-50 rounded-lg flex items-center justify-center"
                src={company.logo}
                alt={`${company.name} logo`}
                width="50"
              />
              <div>
                <h3 class="text-xl font-semibold text-gray-900">{company.name}</h3>
                <p class="text-lg text-blue-600">{company.role}</p>
              </div>
            </div>
            <div class="flex items-center">
              <span class="text-gray-600">{company.period}</span>
              {company.current && (
                <span class="ml-3 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                  {t('experience.current')}
                </span>
              )}
            </div>
          </div>
          <p class="text-gray-600 ml-16">{company.description}</p>
        </div>
      ))}
    </div>
  </div>
</section>